{"version":3,"file":"static/js/633.050d62e5.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.js","components/Searchbar/search.svg","components/Searchbar/Seachbar.styled.js","components/Searchbar/Searchbar.js","pages/Search.js","services/MovieApiService.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Movies = styled.ul`\n  font-size: 20px;\n  padding: 20px;\n  margin: auto;\n`;\n\nexport const MoviesListItem = styled.li`\n  a {\n    text-decoration: none;\n    color: black;\n    :hover {\n      color: orange;\n    }\n  }\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { Movies, MoviesListItem } from './MoviesList.styled';\n\nconst MoviesList = ({ movieArray }) => {\n  const location = useLocation();\n\n  return (\n    <Movies>\n      {movieArray.map(({ id, title }) => {\n        return (\n          <MoviesListItem key={id}>\n            <Link to={`/search/${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </MoviesListItem>\n        );\n      })}\n    </Movies>\n  );\n};\n\nMoviesList.propTypes = {\n  movieArray: PropTypes.array.isRequired,\n};\n\nexport default MoviesList;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    id: \"Outline\",\n    viewBox: \"0 0 24 24\",\n    width: 512,\n    height: 512,\n    fill: \"black\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.707,22.293l-5.969-5.969a10.016,10.016,0,1,0-1.414,1.414l5.969,5.969a1,1,0,0,0,1.414-1.414ZM10,18a8,8,0,1,1,8-8A8.009,8.009,0,0,1,10,18Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.0c88187760b3155d202492da138181e1.svg\";\nexport { ForwardRef as ReactComponent };","import styled from '@emotion/styled';\nimport searchIcon from './search.svg';\n\nexport const SearchBox = styled.div`\n  width: 400px;\n  margin: auto;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  border-radius: 5px;\n  overflow: hidden;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  :focus-within {\n    box-shadow: 0px 0px 0px 0px #ffa500, 3px 3px 10px 0px #ffa500,\n      3px 3px 5px -5px #ffa500;\n  }\n`;\n\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  border: 0;\n  background-image: url(${searchIcon});\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n`;\n\nexport const ButtonSpan = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const FormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding: 5px;\n  ::placeholder {\n    font: inherit;\n    font-size: 16px;\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport MovieApiService from 'services/MovieApiService';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nimport {\n  SearchBox,\n  Form,\n  SearchButton,\n  ButtonSpan,\n  FormInput,\n} from './Seachbar.styled';\n\nconst { querySearch } = MovieApiService();\n\nconst Searchbar = () => {\n  const [movieArray, setMovieArray] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    if (!searchParams.get('query')) {\n      return;\n    }\n\n    querySearch(searchParams.get('query'))\n      .then(response => {\n        if (response.total_results === 0) {\n          toast.error('incorrect query', {\n            position: 'top-center',\n          });\n        }\n        setMovieArray([...response.results]);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, [searchParams]);\n\n  const handleQueryChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    query !== '' && setSearchParams({ query });\n    setQuery('');\n  };\n\n  return (\n    <>\n      <SearchBox>\n        <Form onSubmit={onSubmit}>\n          <SearchButton type=\"submit\">\n            <ButtonSpan>Search</ButtonSpan>\n          </SearchButton>\n\n          <FormInput\n            type=\"text\"\n            name=\"searchQuery\"\n            value={query}\n            onChange={handleQueryChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n          />\n        </Form>\n      </SearchBox>\n      <MoviesList movieArray={movieArray} />\n    </>\n  );\n};\n\nexport default Searchbar;\n","import Searchbar from 'components/Searchbar/Searchbar';\nimport { Outlet } from 'react-router-dom';\nimport { Suspense } from 'react';\n\nconst Search = () => {\n  return (\n    <>\n      <Searchbar />\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\n\nconst MovieApiService = () => {\n  const API_KEY = 'bf6a0fae11fd4c107d4af2168346d5c6';\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n\n  async function fetchMovie(movie_id) {\n    const { data } = await axios(\n      `${BASE_URL}movie/${movie_id}?api_key=${API_KEY}`\n    );\n    return data;\n  }\n\n  async function fetchCast(movie_id) {\n    const { data } = await axios(\n      `${BASE_URL}movie/${movie_id}/credits?api_key=${API_KEY}`\n    );\n    return data;\n  }\n\n  async function fetchReviews(movie_id) {\n    const { data } = await axios(\n      `${BASE_URL}movie/${movie_id}/reviews?api_key=${API_KEY}`\n    );\n    return data;\n  }\n\n  async function fetchPopularMovie() {\n    const { data } = await axios(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=1`\n    );\n    return data;\n  }\n\n  async function querySearch(query) {\n    const { data } = await axios(\n      `${BASE_URL}search/movie?query=${query}&api_key=${API_KEY}&page=1`\n    );\n    return data;\n  }\n\n  // async function fetchTrailer(id) {\n  //   const { data } = await axios(\n  //     `${BASE_URL}movie/${id}/videos?api_key=${API_KEY}`\n  //   );\n  //   return data;\n  // }\n\n  return {\n    fetchMovie,\n    fetchCast,\n    fetchReviews,\n    fetchPopularMovie,\n    querySearch,\n    // fetchTrailer,\n  };\n};\n\nexport default MovieApiService;\n"],"names":["Movies","styled","MoviesListItem","movieArray","location","useLocation","map","id","title","to","state","from","SearchBox","Form","SearchButton","searchIcon","ButtonSpan","FormInput","querySearch","MovieApiService","useState","setMovieArray","query","setQuery","useSearchParams","searchParams","setSearchParams","useEffect","get","then","response","total_results","toast","position","results","catch","error","console","onSubmit","e","preventDefault","type","name","value","onChange","target","autoComplete","autoFocus","placeholder","MoviesList","Suspense","fallback","API_KEY","BASE_URL","movie_id","axios","data","fetchMovie","fetchCast","fetchReviews","fetchPopularMovie"],"sourceRoot":""}